<!doctype html>
<html>
  <head>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/themes/smoothness/jquery-ui.css" />
    <script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.11.0/jquery-ui.min.js"></script>
  </head>
  <body>
    <button id="someAction">Some Button</button>

  </body>
</html>
<script>
(function(){
  'use strict';

  var button = document.getElementById('someAction');

  function sendLog(message){
    var beacon = document.createElement('img');
    beacon.src = 'http://localhost:8080/logger/?message=' + encodeURIComponent(message);
    beacon.style.display = 'none';
    document.body.appendChild(beacon);
  };

  function logMessage(message, send){
    console.log(message);
    if(send){sendLog(message);
    }
  }
  logMessage('Page Loaded', true);

  button.addEventListener('click', function(){
    logMessage('the button was clicked ', true);
  });

}());


</script>
